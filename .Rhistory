excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
View(final_dataFrame)
# read dengue cases data from 2012 to 2023
all_cases_data <- readxl::read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# read dengue deaths data from 2012 to 2023
all_deaths_data <- readxl::read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 2)
# read multiple sheets
data23 <- bind_rows("DengueCases2023.xlsx" %>%
excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
# read multiple sheets
data23 <- bind_rows("DengueCases2023.xlsx" %>%
excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
# read multiple sheets
data23 <- bind_rows("DengueCases2023.xlsx" %>%
excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
View(data23)
names(data23)
# for time series plot
df_daily <- data23 %>%
mutate(confirmed_cum = cumsum(`Confirmed Cases`),
death_cum = cumsum(`Confirmed Deaths`))
View(df_daily)
# for time series plot
df_daily <- data23 %>%
group_by(Date)
mutate(confirmed_cum = cumsum(`Confirmed Cases`),
death_cum = cumsum(`Confirmed Deaths`))
# for time series plot
df_daily <- data23 %>%
select(1:3)
group_by(Date) %>%
mutate(confirmed_cum = cumsum(`Confirmed Cases`),
death_cum = cumsum(`Confirmed Deaths`))
fig <- plot_ly(
data = data23,
x = ~ Date,
y = ~ `Confirmed Cases`,
name = "Confirmed Cases",
fillcolor = "blue",
type = "scatter",
mode = "none",
stackgroup = "one") %>%
add_trace(y = ~ `Confirmed Deaths`,
name = "Death",
fillcolor = "red") %>%
layout(
title = "",
yaxis = list(title = "Cumulative Number of Cases"),
xaxis = list(title = "Date",
type = "date"),
legend = list(x = 0.1, y = 0.9),
hovermode = "compare"
)
fig
fig <- plot_ly(
data = data23,
x = ~ Date,
y = ~ `Confirmed Cases`,
name = "Confirmed Cases",
fillcolor = "blue",
type = "scatter",
mode = "none",
stackgroup = "one") %>%
add_trace(y = ~ `Confirmed Deaths`,
name = "Death",
fillcolor = "red") %>%
layout(
title = "",
yaxis = list(title = "Cumulative Number of Dengue Cases"),
xaxis = list(title = "Date",
type = "Date"),
legend = list(x = 0.1, y = 0.9),
hovermode = "compare"
)
fig
fig <- plot_ly(
data = data23,
x = ~ Date,
y = ~ `Confirmed Cases`,
name = "Confirmed Cases",
fillcolor = "blue",
type = "line",
mode = "none",
stackgroup = "one") %>%
add_trace(y = ~ `Confirmed Deaths`,
name = "Death",
fillcolor = "red") %>%
layout(
title = "",
yaxis = list(title = "Cumulative Number of Dengue Cases"),
xaxis = list(title = "Date",
type = "Date"),
legend = list(x = 0.1, y = 0.9),
hovermode = "compare"
)
fig
library(flexdashboard)
library(tidyverse)
library(highcharter)
library(gt)
library(htmltools)
library(viridis)
library(echarts4r)
## Data cleaning
library(data.table)
library(dplyr)
library(tidyr)
library(magrittr)
library(purrr)
library(forcats)
library(purrr)
## printing
library(glue)
## Maps and Plots
library(plotly)
library(leaflet)
library(leafpop)
library(RColorBrewer)
# Dates
library(lubridate)
## For displaying tables
library(DT)
library(readxl)
theme_set(theme_classic())
# read multiple sheets
data23 <- bind_rows("DengueCases2023.xlsx" %>%
excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
data23$Date <- as.Date(data23$Date)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
all_cases_data$Year <- as.factor(all_cases_data$Year)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name)) %>%
arrange(Months)
ggplot(long_data, aes(x = Months, y = Cases)) +
geom_line(aes(color = Year, linetype = Year)) +
scale_color_manual(values = c("darkred", "steelblue"))
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_line(aes(color = Year, linetype = Year))
ggplotly(fig1)
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_line(aes(color = Year, linetype = Year))+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
long_data
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_line(aes(color = Year))+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_line()+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point()+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
geom_line(color = Year)+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
geom_line(color = "Year")+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
geom_line(color = "red")+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
geom_line(color = "red")+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
head(long_data)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
head(long_data)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
head(long_data)
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
head(long_data)
```{r}
fig1 <- ggplot(long_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
geom_line(color = "red")+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
ggplotly(fig1)
View(data23)
library(flexdashboard)
library(tidyverse)
library(highcharter)
library(gt)
library(htmltools)
library(viridis)
library(echarts4r)
## Data cleaning
library(data.table)
library(dplyr)
library(tidyr)
library(magrittr)
library(purrr)
library(forcats)
library(purrr)
## printing
library(glue)
## Maps and Plots
library(plotly)
library(leaflet)
library(leafpop)
library(RColorBrewer)
# Dates
library(lubridate)
## For displaying tables
library(DT)
library(readxl)
theme_set(theme_classic())
# read multiple sheets
data23 <- bind_rows("DengueCases2023.xlsx" %>%
excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
data23$Date <- as.Date(data23$Date)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
head(long_data)
head(long_data)
all_deaths_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 2)
View(all_deaths_data)
fig1 <- ggplot(long_cases_data, aes(x = Months, y = Cases)) +
geom_point(size = 5)+
geom_line(color = "red")+
theme_minimal()+
theme(axis.text.x=element_text(angle = 60, hjust = 0))
View(all_deaths_data)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_cases_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_cases_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
View(long_cases_data)
# read dengue deaths cases data from 2015 to 2023
all_deaths_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 2)
# transform data
long_deaths_data <- all_deaths_data %>%
pivot_longer(cols = 2:10, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
View(long_deaths_data)
# read multiple sheets
data23 <- bind_rows("DengueCases2023.xlsx" %>%
excel_sheets() %>%
purrr::set_names()%>%
map(read_excel, path = "DengueCases2023.xlsx"))
data23$Date <- as.Date(data23$Date)
View(data23)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity")
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
theme_minimal()+
theme_minimal()
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
theme_minimal()+
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
geom_line(aes(color = Year), position = position_dodge(width = 1))+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
geom_line(aes(color = Cases), position = position_dodge(width = 1))+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
geom_line(aes(x = Year, y = Cases),stat="identity", color="red", size=2)+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig1)
library(esquisse)
esquisse(long_cases_data)
esquisser(long_cases_data)
str(long_cases_data)
# read dengue cases data from 2012 to 2023
all_cases_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 1)
# transform data
long_cases_data <- all_cases_data %>%
pivot_longer(cols = 2:13, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
long_cases_data$Year <- as.factor(long_cases_data$Year )
# read dengue deaths cases data from 2015 to 2023
all_deaths_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 2)
# transform data
long_deaths_data <- all_deaths_data %>%
pivot_longer(cols = 2:10, names_to = "Year", values_to = "Cases") %>%
mutate(Months = factor(Months, levels = month.name))
long_deaths_data$Year <- as.factor(long_deaths_data$Year)
str(long_deaths_data)
str(long_cases_data)
esquisser(long_cases_data)
fig2 <- ggplot(data = long_cases_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig2)
fig1 <- ggplot(data = long_cases_data,
aes(x = Month, y = Cases, group=Month, color=Month))+
geom_line()+
theme_minimal()+
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data,
aes(x = Month, y = Cases, group=Month, color=Month))+
geom_line()+
theme_minimal()
ggplotly(fig1)
long_cases_data
fig1 <- ggplot(data = long_cases_data,
aes(x = Months, y = Cases, group=Month, color=Month))+
geom_line()+
theme_minimal()
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data,
aes(x = Months, y = Cases, group=Months, color=Months))+
geom_line()+
theme_minimal()
ggplotly(fig1)
fig1 <- ggplot(data = long_cases_data,
aes(x = Months, y = Cases, group=Year, color=Year))+
geom_line()+
theme_minimal()
ggplotly(fig1)
data23
fig231 <- ggplot(data = data23,
aes(x = Date, y = `Confirmed Cases`))+
geom_line()+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig231)
fig231 <- ggplot(data = data23,
aes(x = Date, y = `Confirmed Cases`))+
geom_line()+
geom_point(size = 4, shape = 21)
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig231)
fig231 <- ggplot(data = data23,
aes(x = Date, y = `Confirmed Cases`))+
geom_line()+
geom_point(size = 2, shape = 10)
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig231)
data23
fig231 <- ggplot(data = data23,
aes(x = Date, y = `Confirmed Cases`))+
geom_line(aes(x = Date, y = `Confirmed Deaths`))+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig231)
esquisser()
data23
fig231 <- plot_ly(data23, x = ~Date, y = ~`Confirmed Cases`, name = 'Confirmed Cases', type = 'scatter', mode = 'lines')
figfig231 <- fig231 %>% add_trace(y = ~`Confirmed Deaths`, name = 'Confirmed Deaths', mode = 'lines+markers')
fig231 <- plot_ly(data23, x = ~Date, y = ~`Confirmed Cases`, name = 'Confirmed Cases', type = 'scatter', mode = 'lines')
figfig231 <- fig231 %>% add_trace(y = ~`Confirmed Deaths`, name = 'Confirmed Deaths', mode = 'lines+markers')
fig231
fig231 <- plot_ly(data23, x = ~Date, y = ~`Confirmed Cases`, name = 'Confirmed Cases', type = 'scatter', mode = 'lines')
fig231 <- fig231 %>% add_trace(y = ~`Confirmed Deaths`, name = 'Confirmed Deaths', mode = 'lines+markers')
fig231
fig231 <- plot_ly(data23, x = ~Date, y = ~`Confirmed Cases`, name = 'Confirmed Cases', type = 'scatter', mode = 'lines')
fig231 <- fig231 %>% add_trace(y = ~`Confirmed Deaths`, name = 'Confirmed Deaths',type = 'scatter', mode = 'lines')
fig231
fig231 <- plot_ly(data23, x = ~Date, y = ~`Confirmed Cases`, name = 'Confirmed Cases', type = 'scatter', mode = 'lines')
fig231 <- fig231 %>%
add_trace(y = ~`Confirmed Deaths`, name = 'Confirmed Deaths',type = 'scatter', mode = 'lines')
fig231
fig1 <- ggplot(data = long_cases_data,
aes(x = Months, y = Cases, group=Year, color=Year))+
geom_line()+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig1)
fig <- plot_ly(long_cases_data, x = ~Months, y = ~Cases,
name = "Cases", type = "scatter", mode = "lines")
fig
long_cases_data %>%
filter(Year == c(2021, 2022, 2023))
last3<- long_cases_data %>%
filter(Year == c(2021, 2022, 2023))
fig2 <- ggplot(last3 = long_cases_data,
aes(x = Months, y = Cases, group=Year, color=Year))+
geom_line()+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
last3<- long_cases_data %>%
filter(Year == c(2021, 2022, 2023))
fig2 <- ggplot(data = last3,
aes(x = Months, y = Cases, group=Year))+
geom_line()+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig2)
last3<- long_cases_data %>%
filter(Year == c(2021, 2022, 2023))
fig2 <- ggplot(data = last3,
aes(x = Months, y = Cases, color=Year))+
geom_line()+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig2)
last3<- long_cases_data %>%
filter(Year == c(2021, 2022, 2023))
fig2 <- ggplot(data = last3,
aes(x = Months, y = Cases, group=Year, color=Year))+
geom_line()+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig2)
long_deaths_data
fig3 <- ggplot(data = long_deaths_data, aes(x = Year, y = Cases))+
geom_bar(stat="identity", fill="#003f5c")+
theme_minimal()+
theme(axis.text.x = element_text(angle = 60, vjust = 0.5, hjust=1))
ggplotly(fig3)
# read dengue deaths cases data from 2015 to 2023
all_deaths_data <- read_excel("DengueCaseReporting[2012-23].xlsx", sheet = 2)
# transform data
long_deaths_data <- all_deaths_data %>%
pivot_longer(cols = 2:10, names_to = "Year", values_to = "Death Cases") %>%
mutate(Months = factor(Months, levels = month.name))
long_deaths_data$Year <- as.factor(long_deaths_data$Year)
long_deaths_data
blogdown:::serve_site()
